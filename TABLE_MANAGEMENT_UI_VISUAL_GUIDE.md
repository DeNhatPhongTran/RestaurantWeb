# Table Management - UI & Permission Changes - Visual Guide

## Color Scheme Updates

### Table Status Colors

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SERVING (Enum: serving)            â”‚
â”‚  ðŸ”µ Light Teal Background           â”‚
â”‚  Color: bg-teal-100 text-teal-900   â”‚
â”‚  Border: teal-300                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EMPTY (Enum: empty)                â”‚
â”‚  ðŸŸ¢ Light Green Background          â”‚
â”‚  Color: bg-green-100 text-green-900 â”‚
â”‚  Border: green-300                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Interaction Flow by Role

### ðŸ‘” MANAGER - Full Control
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VIEW TABLE             â”‚
â”‚   [Table A1] (Teal/Green)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â†“ CLICK
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   EXPANDED STATE         â”‚
â”‚   [Table A1]             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ [âœï¸ Edit] [ðŸ—‘ï¸ Del] â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
        â”Œâ”€â”€â”€â”´â”€â”€â”€â”
        â†“       â†“
    [EDIT]   [DELETE]
      â”‚          â”‚
      â†“          â†“
  EditModal  DeleteConfirm
```

### ðŸ‘¨â€ðŸ³ WAITER - Order Management
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VIEW TABLE             â”‚
â”‚   [Table A1] (Teal/Green)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â†“ CLICK
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WAITER ORDER MODAL                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Current Orders  â”‚ Add Item Section  â”‚â”‚
â”‚  â”‚                 â”‚                   â”‚â”‚
â”‚  â”‚ â€¢ Pho (waiting) â”‚ [ðŸ”˜ Gá»i MÃ³n]     â”‚â”‚
â”‚  â”‚   x2 45.000â‚«    â”‚                   â”‚â”‚
â”‚  â”‚   [ðŸ—‘ï¸ XÃ³a]      â”‚ Menu:             â”‚â”‚
â”‚  â”‚                 â”‚ â€¢ Pho             â”‚â”‚
â”‚  â”‚ â€¢ Rice (done)   â”‚   45.000â‚«         â”‚â”‚
â”‚  â”‚   x1 15.000â‚«    â”‚ â€¢ Burger          â”‚â”‚
â”‚  â”‚   [Disabled]    â”‚   50.000â‚«         â”‚â”‚
â”‚  â”‚                 â”‚ â€¢ Coca            â”‚â”‚
â”‚  â”‚ Summary:        â”‚   10.000â‚«         â”‚â”‚
â”‚  â”‚ Subtotal: 60Kâ‚«  â”‚                   â”‚â”‚
â”‚  â”‚ Tax: 7.2Kâ‚«      â”‚ [ðŸ”˜ ÄÃ³ng] [âž•Add]â”‚â”‚
â”‚  â”‚ Total: 67.2Kâ‚«   â”‚                   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Delete Button Rules**:
- âœ… Visible: When item.status = "waiting"
- âŒ Hidden: When item.status = "cooking" or "done"

### ðŸ’³ CASHIER - View Only
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VIEW TABLE             â”‚
â”‚   [Table A1] âšª DISABLED  â”‚
â”‚   (opacity-60)           â”‚
â”‚   Not clickable          â”‚
â”‚   No modals open         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ðŸ‘¨â€ðŸ’¼ CHEF - View Only
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VIEW TABLE             â”‚
â”‚   [Table A1] âšª DISABLED  â”‚
â”‚   (opacity-60)           â”‚
â”‚   Not clickable          â”‚
â”‚   No modals open         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ðŸ‘¤ GUEST - View Only
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VIEW TABLE             â”‚
â”‚   [Table A1] âšª DISABLED  â”‚
â”‚   (opacity-60)           â”‚
â”‚   Not clickable          â”‚
â”‚   No modals open         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## UI Component Layout - WaiterOrderModal

### Desktop View (2 Column)
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ðŸ‘¨â€ðŸ³ Gá»i MÃ³n - BÃ n A1                                  [X]      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘ â”‚  ðŸ›’ Danh SÃ¡ch MÃ³n (3)   â”‚  â”‚  âž• ThÃªm MÃ³n Má»›i         â”‚   â•‘
â•‘ â”‚                         â”‚  â”‚                          â”‚   â•‘
â•‘ â”‚ BÃ n: A1                 â”‚  â”‚ [ðŸ”˜ Gá»i MÃ³n]             â”‚   â•‘
â•‘ â”‚ Sá»©c chá»©a: 2 chá»—         â”‚  â”‚                          â”‚   â•‘
â•‘ â”‚                         â”‚  â”‚ Menu:                    â”‚   â•‘
â•‘ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â•‘
â•‘ â”‚ â”‚ Pho (â³ Chá»)     â”‚    â”‚  â”‚ â”‚ Pho                â”‚   â”‚   â•‘
â•‘ â”‚ â”‚ SL: 2            â”‚    â”‚  â”‚ â”‚ 45.000â‚«            â”‚   â”‚   â•‘
â•‘ â”‚ â”‚ ðŸ½ï¸ Phá»¥c vá»¥      â”‚    â”‚  â”‚ â”‚                    â”‚   â”‚   â•‘
â•‘ â”‚ â”‚ 90.000â‚«          â”‚    â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â•‘
â•‘ â”‚ â”‚ [ðŸ—‘ï¸ XÃ³a]        â”‚    â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â•‘
â•‘ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚ â”‚ Burger             â”‚   â”‚   â•‘
â•‘ â”‚                         â”‚  â”‚ â”‚ 50.000â‚«            â”‚   â”‚   â•‘
â•‘ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚ â”‚                    â”‚   â”‚   â•‘
â•‘ â”‚ â”‚ Rice (âœ… Xong)   â”‚    â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â•‘
â•‘ â”‚ â”‚ SL: 1            â”‚    â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â•‘
â•‘ â”‚ â”‚ ðŸ½ï¸ Phá»¥c vá»¥      â”‚    â”‚  â”‚ â”‚ Coca               â”‚   â”‚   â•‘
â•‘ â”‚ â”‚ 15.000â‚«          â”‚    â”‚  â”‚ â”‚ 10.000â‚«            â”‚   â”‚   â•‘
â•‘ â”‚ â”‚ [Disabled]       â”‚    â”‚  â”‚ â”‚                    â”‚   â”‚   â•‘
â•‘ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â•‘
â•‘ â”‚                         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                                 â•‘
â•‘ â”‚ â”‚ Táº¡m tÃ­nh: 105Kâ‚«  â”‚    â”‚                                 â•‘
â•‘ â”‚ â”‚ Thuáº¿ 12%: 12.6Kâ‚« â”‚    â”‚                                 â•‘
â•‘ â”‚ â”‚ Tá»•ng: 117.6Kâ‚«    â”‚    â”‚                                 â•‘
â•‘ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                                 â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â•‘
â•‘                                                               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ [ðŸ”´ ÄÃ³ng]          [ðŸŸ¢ Gá»i ThÃªm MÃ³n]                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Mobile View (1 Column)
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ðŸ‘¨â€ðŸ³ Gá»i MÃ³n - BÃ n A1      [X]       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                    â•‘
â•‘ ðŸ›’ Danh SÃ¡ch MÃ³n (3)              â•‘
â•‘                                    â•‘
â•‘ BÃ n: A1                            â•‘
â•‘ Sá»©c chá»©a: 2 chá»—                    â•‘
â•‘                                    â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
â•‘ â”‚ Pho (â³ Chá»)               â”‚    â•‘
â•‘ â”‚ SL: 2 | 90.000â‚«            â”‚    â•‘
â•‘ â”‚ [ðŸ—‘ï¸ XÃ³a]                   â”‚    â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘
â•‘                                    â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
â•‘ â”‚ Rice (âœ… Xong)             â”‚    â•‘
â•‘ â”‚ SL: 1 | 15.000â‚«            â”‚    â•‘
â•‘ â”‚ [Disabled Delete]           â”‚    â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘
â•‘                                    â•‘
â•‘ Táº¡m tÃ­nh: 105Kâ‚«                    â•‘
â•‘ Thuáº¿ 12%: 12.6Kâ‚«                   â•‘
â•‘ Tá»•ng: 117.6Kâ‚«                     â•‘
â•‘                                    â•‘
â•‘ âž• ThÃªm MÃ³n Má»›i                    â•‘
â•‘                                    â•‘
â•‘ Menu:                              â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
â•‘ â”‚ Pho | 45.000â‚«              â”‚    â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
â•‘ â”‚ Burger | 50.000â‚«           â”‚    â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
â•‘ â”‚ Coca | 10.000â‚«             â”‚    â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘
â•‘                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ [ðŸ”´ ÄÃ³ng] [ðŸŸ¢ Gá»i ThÃªm MÃ³n]      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## Status Badge Reference

### Item Status
```
â³ Chá»       = "waiting"      â†’ Yellow badge (bg-yellow-100)
ðŸ³ Náº¥u      = "cooking"      â†’ Orange badge (bg-orange-100)
âœ… Xong     = "done"         â†’ Green badge (bg-green-100)
```

### Serving Status
```
ðŸ½ï¸ Phá»¥c vá»¥   = "served"      â†’ Blue badge (bg-blue-100)
â±ï¸ ChÆ°a phá»¥c = "unserved"    â†’ Gray badge (bg-gray-100)
```

## Permission Matrix

| Feature | Manager | Waiter | Cashier | Chef | Guest |
|---------|---------|--------|---------|------|-------|
| View Tables | âœ… | âœ… | âœ… | âœ… | âœ… |
| Click Tables | âœ… | âœ… | âŒ | âŒ | âŒ |
| Edit Table Name | âœ… | âŒ | âŒ | âŒ | âŒ |
| Edit Capacity | âœ… | âŒ | âŒ | âŒ | âŒ |
| Create Table | âœ… | âŒ | âŒ | âŒ | âŒ |
| Delete Table | âœ… | âŒ | âŒ | âŒ | âŒ |
| Add Menu Item | âŒ | âœ… | âŒ | âŒ | âŒ |
| Edit Menu Item | âŒ | âœ…* | âŒ | âŒ | âŒ |
| Delete Menu Item | âŒ | âœ…* | âŒ | âŒ | âŒ |

*Only when status = "waiting"

## State Management

### TableGrid Component
```javascript
// Local state
const [expandedTableId, setExpandedTableId] = useState(null)

// Effects on click:
onClick={() => {
  setExpandedTableId(isExpanded ? null : table._id)
  if (isManager) {
    // Just expand buttons, don't open modal
  }
  if (isWaiter) {
    onTableClick(table) // Opens WaiterOrderModal
  }
}}
```

### WaiterOrderModal Component
```javascript
// Local states
const [orderItems, setOrderItems] = useState([])
const [menuItems, setMenuItems] = useState([])
const [isAddItemOpen, setIsAddItemOpen] = useState(false)

// Computed properties
const isWaiting = item.status === 'waiting'
const canDelete = isWaiting
```

---

**Last Updated**: December 27, 2025  
**Status**: âœ… Implementation Complete
